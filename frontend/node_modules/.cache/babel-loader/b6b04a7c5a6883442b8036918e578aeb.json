{"ast":null,"code":"var _jsxFileName = \"/Users/bojanratkovic/Documents/js/js/Svinje/svinje/frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { login, auth } from \"./store/actions/userAction\";\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const {\n    login\n  } = props;\n  const history = useNavigate();\n  const user = useSelector(state => state.users);\n  const [inputData, setinputData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errors, setErrors] = useState({\n    emailError: null,\n    passwordError: null\n  });\n\n  const onChangeData = (type, e) => {\n    switch (type) {\n      case \"email\":\n        setinputData({ ...inputData,\n          ...{\n            email: e.target.value\n          }\n        });\n        break;\n\n      case \"password\":\n        setinputData({ ...inputData,\n          ...{\n            password: e.target.value\n          }\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (user.token) {\n      history('/newad');\n    } else {\n      props.auth();\n    }\n  }, [user.token]);\n\n  const validateEmail = email => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  };\n\n  const loginValidate = () => {\n    const email = validateEmail(inputData.email);\n    const password = inputData.password && inputData.password.length > 3;\n    !email && console.log(\"Email must be in format example@domain.com\");\n    !password && console.log(\"Password obavezan. Min 4 znaka.\");\n\n    if (!email && !password) {\n      setErrors({\n        email: !email,\n        password: !password\n      });\n      return false;\n    }\n\n    return true;\n  };\n\n  const loginHandler = e => {\n    e.nativeEvent.preventDefault();\n    const loginOk = loginValidate();\n    console.log(loginOk, \"loginOk\");\n\n    if (loginOk) {\n      props.login({\n        email: inputData.email,\n        password: inputData.password\n      }, () => {\n        history('/ponuda');\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-sans min-h-screen antialiased bg-gray-900 pt-24 pb-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center sm:w-96 sm:m-auto mx-5 mb-5 space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-bold text-center text-4xl text-yellow-500\",\n        children: [\"Udruga\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-blue-500\",\n          children: \"Svinjogojac\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 78\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"#\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col bg-white p-10 rounded-lg shadow space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-xl text-center\",\n            children: \"Prijava\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"border-2 rounded px-3 py-2 w-full focus:outline-none focus:border-blue-400 focus:shadow\",\n              placeholder: \"Korisni\\u010Dko ime\",\n              onChange: e => {\n                onChangeData(\"email\", e);\n              },\n              value: inputData.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1\",\n              children: \"Email mora biti u formatu example@domain.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"border-2 rounded px-3 py-2 w-full focus:outline-none focus:border-blue-400 focus:shadow\",\n              placeholder: \"Password\",\n              onChange: e => {\n                onChangeData(\"password\", e);\n              },\n              value: inputData.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1\",\n              children: \"Password obavezan. Min 4 znaka.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: \"inline-block align-middle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inline-block align-middle\",\n              htmlFor: \"remember\",\n              children: \"Upamti me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col-reverse sm:flex-row sm:justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"inline-block text-blue-500 hover:text-blue-800 hover:underline\",\n              children: \"Forgot your password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"bg-blue-500 text-white font-bold px-5 py-2 rounded focus:outline-none shadow hover:bg-blue-700 transition-colors\",\n              onClick: loginHandler,\n              children: \"Ulaz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center text-gray-500 text-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xA92021. All right reserved.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"sLHPMKGITkRzVOslzjex7diBGws=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = Login;\n\nconst mapStateToProps = state => ({\n  users: state.users\n});\n\nexport default connect(mapStateToProps, {\n  login,\n  auth\n})(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/bojanratkovic/Documents/js/js/Svinje/svinje/frontend/src/components/Login.js"],"names":["React","useEffect","useState","connect","useSelector","login","auth","useNavigate","Login","props","history","user","state","users","inputData","setinputData","email","password","errors","setErrors","emailError","passwordError","onChangeData","type","e","target","value","token","validateEmail","test","loginValidate","length","console","log","loginHandler","nativeEvent","preventDefault","loginOk","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { connect, useSelector } from 'react-redux'\nimport { login, auth } from \"./store/actions/userAction\"\n\nimport { useNavigate } from 'react-router';\nfunction Login(props) {\n\n  const { login } = props;\n  const history = useNavigate();\n  const user = useSelector(state => state.users);\n\n  const [inputData, setinputData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const [errors, setErrors] = useState({\n    emailError: null,\n    passwordError: null\n  });\n\n  const onChangeData = (type, e) => {\n    switch (type) {\n      case \"email\":\n        setinputData({\n          ...inputData,\n          ...{ email: e.target.value }\n        })\n        break;\n      case \"password\":\n        setinputData({\n          ...inputData,\n          ...{ password: e.target.value },\n        })\n        break;\n      default:\n        break;\n    }\n  }\n\n\n\n  useEffect(() => {\n    if (user.token) {\n      history('/newad');\n    }\n    else {\n      props.auth();\n    }\n  }, [user.token]);\n\n  const validateEmail = (email) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\n  };\n\n  const loginValidate = () => {\n    const email = validateEmail(inputData.email);\n    const password = inputData.password && inputData.password.length > 3;\n\n    !email && console.log(\"Email must be in format example@domain.com\")\n    !password && console.log(\"Password obavezan. Min 4 znaka.\")\n    if (!email && !password) {\n      setErrors({ email: !email, password: !password })\n      return false;\n    }\n    return true\n  };\n  const loginHandler = (e) => {\n    e.nativeEvent.preventDefault();\n    const loginOk = loginValidate();\n    console.log(loginOk, \"loginOk\")\n    if (loginOk) {\n      props.login({ email: inputData.email, password: inputData.password },\n        () => {\n          history('/ponuda');\n        });\n    }\n  }\n  return (\n    <div className=\"font-sans min-h-screen antialiased bg-gray-900 pt-24 pb-5\">\n      <div className=\"flex flex-col justify-center sm:w-96 sm:m-auto mx-5 mb-5 space-y-8\">\n        <h1 className=\"font-bold text-center text-4xl text-yellow-500\">Udruga<span className=\"text-blue-500\">Svinjogojac</span></h1>\n        <form action=\"#\">\n          <div className=\"flex flex-col bg-white p-10 rounded-lg shadow space-y-6\">\n            <h1 className=\"font-bold text-xl text-center\">Prijava</h1>\n            <div className=\"flex flex-col space-y-1\">\n              <input type=\"text\" className=\"border-2 rounded px-3 py-2 w-full focus:outline-none focus:border-blue-400 focus:shadow\" placeholder=\"Korisničko ime\" onChange={(e => { onChangeData(\"email\", e) })} value={inputData.email} />\n              {errors.email && <span className=\"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1\">\n                Email mora biti u formatu example@domain.com\n              </span>}\n            </div>\n\n            <div className=\"flex flex-col space-y-1\">\n              <input type=\"password\" className=\"border-2 rounded px-3 py-2 w-full focus:outline-none focus:border-blue-400 focus:shadow\" placeholder=\"Password\" onChange={(e => { onChangeData(\"password\", e) })} value={inputData.password} />\n              {errors.password && <span className=\"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1\">\n                Password obavezan. Min 4 znaka.\n              </span>}\n            </div>\n\n            <div className=\"relative\">\n              <input type=\"checkbox\" className=\"inline-block align-middle\" />\n              <label className=\"inline-block align-middle\" htmlFor=\"remember\">Upamti me</label>\n\n            </div>\n\n            <div className=\"flex flex-col-reverse sm:flex-row sm:justify-between items-center\">\n              <a href=\"#\" className=\"inline-block text-blue-500 hover:text-blue-800 hover:underline\">Forgot your password?</a>\n              <button type=\"submit\" className=\"bg-blue-500 text-white font-bold px-5 py-2 rounded focus:outline-none shadow hover:bg-blue-700 transition-colors\"\n                onClick={loginHandler}>\n                Ulaz\n              </button>\n            </div>\n          </div>\n        </form>\n        <div className=\"flex justify-center text-gray-500 text-sm\">\n          <p>&copy;2021. All right reserved.</p>\n        </div>\n      </div >\n    </div >\n  );\n}\nconst mapStateToProps = (state) => ({ users: state.users })\n\nexport default connect(mapStateToProps, { login, auth })(Login)\n"]},"metadata":{},"sourceType":"module"}